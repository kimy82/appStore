define(["Ti/_/declare","Ti/_/dom","Ti/_/lang","Ti/_/ready","Ti/_/style","Ti/_/UI/Widget"],function(t,e,i,n,r,o){var a;return n(function(){a=e.create("p",{style:{position:"absolute",top:"-1000em",left:0,height:"auto",width:"auto"}},document.body)}),t("Ti._.UI.FontWidget",o,{constructor:function(){this._styleableDomNodes=[]},_setFont:function(t,e){if(t){var i=parseInt(t.fontSize);t.fontSize=isNaN(i)?void 0:i+"px",r.set(e,t)}else r.set(e,{fontFamily:"",fontSize:"",fontStyle:"",fontWeight:""})},_addStyleableDomNode:function(t){this._styleableDomNodes.push(t)},_removeStyleableDomNode:function(t){var e=this._styleableDomNodes.indexOf(t);-1!=e&&this._styleableDomNodes.splice(e,1)},_measureText:function(t,n,o){var s=window.getComputedStyle(n)||{},u=this.font||{},c=!t||""===t;return a.innerHTML=c?"Ã„y":t,this._setFont({fontFamily:u.fontFamily||s.fontFamily||"",fontSize:u.fontSize||s.fontSize||"",fontStyle:u.fontStyle||s.fontStyle||"",fontWeight:u.fontWeight||s.fontWeight||""},a),r.set(a,{whiteSpace:n.style.whiteSpace,width:e.unitize(i.val(o,"auto"))}),{width:c?0:a.clientWidth+.5,height:a.clientHeight}},properties:{color:{set:function(t){for(var e in this._styleableDomNodes)r.set(this._styleableDomNodes[e],"color",t);return t}},font:{set:function(t){for(var e in this._styleableDomNodes)this._setFont(t,this._styleableDomNodes[e]);return t}}}})});